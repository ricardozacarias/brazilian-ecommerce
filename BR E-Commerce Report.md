# Brazilian E-Commerce Dataset
(Downloaded from [Kaggle](https://www.kaggle.com/olistbr/brazilian-ecommerce))

[TOC]

## About the data

> The dataset has information of 100k orders from 2016 to 2018 made at multiple marketplaces in Brazil. Its features allows viewing an order from multiple dimensions: from order status, price, payment and freight performance to customer location, product attributes and finally reviews written by customers. We also released a geolocation dataset that relates Brazilian zip codes to lat/lng coordinates.

## About Olist.com

> This dataset was generously provided by Olist, the largest department store in Brazilian marketplaces. Olist connects small businesses from all over Brazil to channels without hassle and with a single contract. Those merchants are able to sell their products through the Olist Store and ship them directly to the customers using Olist logistics partners.

## Attention

- An order might have multiple items.
- Each item might be fulfilled by a distinct seller.
- All text identifying stores and partners where replaced by the names of Game of Thrones great houses.

## Schema

The full dataset is divided in 8 files: orders, *payments, reviews, items, products, sellers, customers, geolocation*. Descriptions of the columns can be found on the the Kaggle link above, or on the main script.

<img src="figures/ds-schema.png">



## Questions

- Which product sells the most? Do they profit more from cheap or from expensive products?
- Do orders vary throughout the year?
- How much does the average customer spend? Does it vary with geographical location? 
- How much does the average shop sell? Does it vary with geographical location?



# Product profiles

The products dataset shows that **32951** products were sold in 100k orders. Are there products that sell more than others? Or were they all sold approximately 3 times?

## Which products sell best?

We calculated the probability of each product being sold and show it here in a 2d-hexbin histogram together with price. The colors of each bin are determined by the **average revenue** generated by the products in each bin.

<img src="figures\product_probability_mean.png" alt="product_probability" width="600"/>

This tells us that the products that the products that sell more are mid-range items (between 50-500 R$).

### Which products generate more revenue?

To calculate what kind of products generate the most revenue in total, we repeated the same analysis but now the colors indicate the **total sum of revenue** of the products in the bins.

<img src="figures\product_probability_sum.png" alt="product_probability" style="zoom: 25%;" />

**Conclusions**: Olist makes more money not by selling a few products a lot, but by selling a lot of different products each of them with low probability and in the range of 50-500 R$.



# Do orders vary throughout the year?

Sales are a very dynamic process and usually have have some variation throughout the year.  Does Olist sell more during a specific time of the year? We calculated the number of orders per day in the 2-year period included in the dataset.

<img src="figures\orders_timeseries.png" alt="orders_timeseries" style="zoom: 33%;" />

We observe that orders have increased gradually over time and that there's a spike in orders which coincides with **Black Friday** but more on that later. 

## Seasonal Decomposition

In order to separate the series in temporal components we performed a **seasonal decomposition analysis**. 



We can also see that the residual plot shows zero. This is a good example where the na√Øve, or classical, decomposition was not able to separate the noise that we added from the linear trend 

[[1\]]: 



[1]: https://machinelearningmastery.com/decompose-time-series-data-trend-seasonality/	"How to decompose a time series"



